"use strict";function openSpeechRecognition(){window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;var e=new SpeechRecognition;return e.language="de",e}function speech(e){var n=openSpeechRecognition();n.addEventListener("result",function(t){var o=Array.from(t.results).map(function(e){return e[0]}).map(function(e){return e.transcript}).join("");$("#mytext").text(o),t.results[0].isFinal&&(e(o),n.stop())}),n.start()}function speechClick(){console.log("clicked"),$("#mytext").text(""),speech(function(e){sendText(e)})}function sendText(e){var n={message:e,context:JSON.stringify(context)};$.ajax({type:"POST",url:"/conversation",data:n,success:function(e){var n=e.output.text[0];context=e.context,console.log(context),console.log(n);var t=new SpeechSynthesisUtterance(n);window.speechSynthesis.speak(t),"true"==context.uploadPic&&(context.uploadPic="false",fileTrigger())},error:function(e){console.log(e)}})}function fileTrigger(){console.log("triggered"),$("#watsonFile").click()}function uploadPic(){$("#watsonFile").click(),$("#watsonFile").change(function(e){console.log($("#watsonFile"))})}function sendFile(e){$.ajax({type:"POST",url:"/visualRecognition",data:{context:JSON.stringify(context),pic:e},success:function(e){var n=e.output.text[0];context=e.context,console.log(context),console.log(n);var t=new SpeechSynthesisUtterance(n);window.speechSynthesis.speak(t),context.uploadPic&&(context.uploadPic=!1,uploadPic())},error:function(e){console.log(e)}})}var context;$(document).keypress(function(e){console.log(e.which),102==e.which&&uploadPic()});
//# sourceMappingURL=speech.js.map